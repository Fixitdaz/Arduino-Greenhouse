//
//  Prefix header
//
//  The contents of this file are implicitly included at the beginning of every source file.
//

#import <Availability.h>

#ifndef __IPHONE_5_0
#warning "This project uses features only available in iOS SDK 5.0 and later."
#endif

#ifdef __OBJC__
#import <UIKit/UIKit.h>
#import <Foundation/Foundation.h>
#endif



#define CBCentralManagerIdentifier @"com.ChasConway.temperatureAlarm"

// NSUserDefaults keys
#define PreviouslyConnectedPeripheralUUID @"com.ChasConway.ArduinoGreenhouse.previouslyConnectedPeripheralUUID"
#define AlarmThresholdUserDefaultKey @"com.ChasConway.temperatureAlarm.alarmThreshold"

// Arduino Constants
#define VENT_FLAP_OPEN 20
#define VENT_FLAP_CLOSED 125
#define LIGHTBANK_ON 1
#define LIGHTBANK_OFF 0

// TO-DO: Move this to a common file imported by both Arduino and XCode
#define UNAVAILABLE_f -12345.678f  // Used for indicating a value has become unavailable
#define UNAVAILABLE_u -1234  // Used for indicating a value has become unavailable
// TODO: Suffix shouldn't be "u" because it's not unsigned

#define VENT_DOOR_OPEN 20  // servo angle
#define VENT_DOOR_CLOSED 125  // servo angle

#define TEMPERATURE_SETPOINT_MIN 10.0  // °C
#define TEMPERATURE_SETPOINT_MAX 35.0  // °C

#define HUMIDITY_SETPOINT_MIN 20.0  // % RH
#define HUMIDITY_SETPOINT_MAX 90.0  // % RH

#define NECESSITY_COEFF_MIN 0.0  // unitless
#define NECESSITY_COEFF_MAX 1.0  // unitless

#define NECESSITY_THRESHOLD_MIN 10.0  // unitless
#define NECESSITY_THRESHOLD_MAX 100.0  // unitless

#define VENTING_OVERSHOOT_MIN 0.0  // % of 'threshold'
#define VENTING_OVERSHOOT_MAX 50.0  // % of 'threshold'


// UUIDs
#define USER_ADJUSTMENTS_SERVICE_UUID				@"E8CC0100-55E3-0B64-40F8-B2F289661BDA"
#define HUMIDITY_SETPOINT_CHARACTERISTIC_UUID		@"E8CC0101-55E3-0B64-40F8-B2F289661BDA"
#define TEMPERATURE_SETPOINT_CHARACTERISTIC_UUID		@"E8CC0102-55E3-0B64-40F8-B2F289661BDA"
#define HUMIDITY_NECESS_COEFF_CHARACTERISTIC_UUID	@"E8CC0103-55E3-0B64-40F8-B2F289661BDA"
#define TEMP_NECESS_COEFF_CHARACTERISTIC_UUID		@"E8CC0104-55E3-0B64-40F8-B2F289661BDA"
#define VENTING_NECESS_THRESHOLD_CHARACTERISTIC_UUID	@"E8CC0105-55E3-0B64-40F8-B2F289661BDA"
#define VENT_NECESS_OVERSHOOT_CHARACTERISTIC_UUID	@"E8CC0106-55E3-0B64-40F8-B2F289661BDA"
#define DATE_TIME_CHARACTERISTIC_UUID				@"E8CC0107-55E3-0B64-40F8-B2F289661BDA"
#define ILLUMINATION_ON_TIME_CHARACTERISTIC_UUID		@"E8CC0108-55E3-0B64-40F8-B2F289661BDA"
#define ILLUMINATION_OFF_TIME_CHARACTERISTIC_UUID	@"E8CC0109-55E3-0B64-40F8-B2F289661BDA"

#define CLIMATE_STATE_SERVICE_UUID					@"E8CC0110-55E3-0B64-40F8-B2F289661BDA"
#define VENTING_NECESSITY_CHARACTERISTIC_UUID		@"E8CC0111-55E3-0B64-40F8-B2F289661BDA"
#define VENTING_NECESS_TARGET_CHARACTERISTIC_UUID	@"E8CC0112-55E3-0B64-40F8-B2F289661BDA"
#define CONTROL_STATE_CHARACTERISTIC_UUID			@"E8CC0113-55E3-0B64-40F8-B2F289661BDA"
#define SHIFTREG_STATE_TARGET_CHARACTERISTIC_UUID	@"E8CC0114-55E3-0B64-40F8-B2F289661BDA"
#define VENTING_NECESSITY_DELTA_CHARACTERISTIC_UUID	@"E8CC0115-55E3-0B64-40F8-B2F289661BDA"

#define CONTROLS_SERVICE_UUID						@"E8CC0120-55E3-0B64-40F8-B2F289661BDA"
#define LIGHTBANK_1_CHARACTERISTIC_UUID				@"E8CC0121-55E3-0B64-40F8-B2F289661BDA"
#define LIGHTBANK_2_CHARACTERISTIC_UUID				@"E8CC0122-55E3-0B64-40F8-B2F289661BDA"
#define VENT_FLAP_CHARACTERISTIC_UUID				@"E8CC0123-55E3-0B64-40F8-B2F289661BDA"

#define MEASUREMENTS_SERVICE_UUID					@"E8CC0130-55E3-0B64-40F8-B2F289661BDA"
#define INTERIOR_HUMIDITY_CHARACTERISTIC_UUID		@"E8CC0131-55E3-0B64-40F8-B2F289661BDA"
#define INTERIOR_TEMPERATURE_CHARACTERISTIC_UUID		@"E8CC0132-55E3-0B64-40F8-B2F289661BDA"
#define EXTERIOR_HUMIDITY_CHARACTERISTIC_UUID		@"E8CC0133-55E3-0B64-40F8-B2F289661BDA"
#define EXTERIOR_TEMPERATURE_CHARACTERISTIC_UUID		@"E8CC0134-55E3-0B64-40F8-B2F289661BDA"
#define PEAK_HUMIDITY_RISE_CHARACTERISTIC_UUID		@"E8CC0135-55E3-0B64-40F8-B2F289661BDA"

#define RSSI_KEY									@"com.ChasConway.ArduinoGreenhouse.RSSI"
